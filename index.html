<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TM Color Code Formatter</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="customColors.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

</head>

<body>
    <canvas id="dotCanvas"></canvas>

    <div class="modal">
        <h1>Trackmania Linear Color Code Formatter</h1>

        <div class="flex-container settings-area">
            <button id="toggleEscape" onclick="toggleEscapeCharacters()">Include \\</button>
            <button id="clearFormatter" onclick="clearFormatter()">Reset formatter</button>
            <button id="toggleColorCard" onclick="toggleColorCard()">Set custom colors</button>
        </div>

        <div class="flex-container input-area">
            <input type="text" id="inputString" placeholder="Enter your text">
            <button onclick="colorizeAndDisplay()">ðŸŽ¨</button>
        </div>

        <div class="flex-container output-area">
            <div id="outputString" class="text-field" style="margin-right: 10px;">Your formatted text will appear here... </div>
            <button onclick="copyToClipboard(); showNotification('Colorized!');">ðŸ“‹</button>
        </div>

        <div class="flex-container preview-area">
            <div id="previewString" class="text-field">Preview color text here </div>
        </div>


    </div>

    <!-- Color Card -->
    <div id="colorCard" class="color-card">
        <div class="color-card-content">
            <h2>Choose Colors</h2>
            <label for="startColor">Start Color:</label>
            <input type="color" id="startColor" name="startColor" value="#0033CC">
            <label for="endColor">End Color:</label>
            <input type="color" id="endColor" name="endColor" value="#33FFFF">
            <!-- <button onclick="applyColorChanges()">Apply</button> -->
        </div>
    </div>

    <div id="notificationContainer" class="notification-container"></div>

    <script src="colorize.js"></script>
    <script src="background.js"></script>
    <script>
        function clearFormatter() {
            document.getElementById('inputString').value = '';

            document.getElementById('outputString').innerText = 'Your formatted text will appear here...';
            document.getElementById('previewString').innerHTML = 'Preview color text here';

            document.getElementById('startColor').value = '#0033CC';
            document.getElementById('endColor').value = '#33FFFF';

            startColorGlobal = '#0033CC';
            endColorGlobal = '#33FFFF';

            includeEscapeCharacters = false;
            document.getElementById('toggleEscape').textContent = "Include \\\\";

            colorizeAndDisplay();
        }
    </script>
    <script>
        function copyToClipboard() {
            const outputString = document.getElementById("outputString").innerText;
            navigator.clipboard.writeText(outputString)
                .then(() => {
                    showNotification("Copied to clipboard!");
                })
                .catch(err => {
                    console.error('Error in copying text: ', err);
                });
        }
    </script>
    <script>
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.classList.add('notification-message');
            notification.textContent = message;
        
            const container = document.getElementById('notificationContainer');
            container.appendChild(notification);
        
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
        
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    container.removeChild(notification);
                }, 500);
            }, 3000);
        }
        
        
        
    </script>
</body>

</html>